<!DOCTYPE html>
<html>
	<head lang="en">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<meta charset="UTF-8">
		<title>Erlang RPC</title>
	</head>
	<body>
		<h1>Erlang RPC</h1>
		<button id="execute">Execute</button>
		<div id="result"></div>
		<script>
    	var data = {
    		int:1234,
    		string:"abcd",
  			array:[
  				1,2,3,'abc'
  			],
				map:{
					one:'abc', two:1, three:"abc"
				}
			};

   		$(document).ready(go);

    	function go(){
        $("#execute").click(test);
			}

			function test() {
    		$.ajax({
    			url:"rpc?mod=echo&func=me",
      		type:'POST',
      		data:JSON.stringify(data),
      		success:function(str) {
      			// console.log(str);
						var ret = JSON.parse(str);
						// $("#result").html(JSON.stringify(ret, undefined, 4));
						$("#result").html("<pre>" + JSON.stringify(ret, undefined, 4) + "</pre>");
					}
				});
			}
		</script>
	</body>
</html>